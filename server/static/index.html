<!DOCTYPE html>
<html>
<head>
	<title>WebSocket Test</title>
</head>
<body>
	<h1>WebSocket Test</h1>
	<input placeholder="message" />
	<button>Send</button>
	<div id="messages"></div>
	<script type="text/javascript" src="scripts/websocket.js"></script>
	<script type="text/javascript">

		document.addEventListener('click', (e) => {
			if(e.target.tagName !== 'BUTTON')
				return;

			const input = document.querySelector("input")
			const msg = input.value;
			input.value = '';

			WS.push('message', msg);
		});

		WS.on('message', (msg) => {
			const div = document.createElement('div');
			div.textContent = msg;
			document.querySelector('#messages').appendChild(div);
		});

	</script>
</body>
</html>
